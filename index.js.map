{"version":3,"sources":["webpack://mesto/./src/scripts/Card.js","webpack://mesto/./src/scripts/Popup.js","webpack://mesto/./src/scripts/PopupWithForm.js","webpack://mesto/./src/scripts/PopupWithImage.js","webpack://mesto/./src/scripts/Section.js","webpack://mesto/./src/scripts/UserInfo.js","webpack://mesto/./src/scripts/FormValidator.js","webpack://mesto/./src/scripts/Api.js","webpack://mesto/./src/scripts/PopupConfirm.js","webpack://mesto/./src/scripts/utils.js","webpack://mesto/./src/pages/index.js"],"names":["Card","templateSelector","cardData","handleCardClick","handleCardDelete","handleCardLike","userId","this","_cardData","_name","name","_link","link","_likeCount","likes","length","_cardId","_id","_handleCardClick","_handleCardDelete","_handleCardLike","_cardSelector","_userId","document","querySelector","content","cloneNode","children","likedByUser","_likeButton","classList","add","remove","_cardImage","setAttribute","_cardElement","textContent","setLikeCount","toggle","addEventListener","_deleteButton","_getTemplate","_setCardData","_ownerId","owner","_setEventListeners","updatedLikes","some","like","_toggleLikeButton","Popup","popupElement","_popupElement","_handleEscClose","bind","_closeButton","_submitButton","evt","key","close","removeEventListener","target","contains","PopupWithForm","submitHandler","_submitHandler","_form","_inputList","Array","from","querySelectorAll","_formValues","forEach","input","value","caption","preventDefault","_getInputValues","reset","PopupWithImage","_photo","_popupPhotoTitle","title","Section","containerSelector","items","renderer","_renderedItems","_renderer","_container","item","isArray","append","prepend","UserInfo","titleElement","subtitleElement","avatarElement","_titleElement","_subtitleElement","_avatarElement","about","avatar","src","userData","FormValidator","conf","form","_conf","_button","submitButtonSelector","inputList","inputElement","validity","valid","buttonElement","inactiveButtonClass","_isInputInvalid","removeAttribute","errorMessageElement","errorMessageText","errorClass","inputIsInvalid","id","validationMessage","_setErrorMessage","_hideErrorMessage","inputSelector","_checkInputValidity","inputErrorClass","_toggleSubmitButton","errorInputList","errorMessageList","errorInputItem","errorMessageItem","Api","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","subtitle","method","body","JSON","stringify","cardId","avatarLink","err","console","error","PopupConfirm","_element","element","formSelector","editButtonProfile","editPopupProfile","editFormProfile","titleInput","subtitleInput","addButtonCard","addPopupCard","addFormCard","viewerPopup","updateAvatarButton","avatarPopup","avatarForm","deletePopup","actualProfileTitle","actualProfileSubtitle","actualAvatar","waitPic","submitPic","section","renderTurn","api","authorization","userInfoData","imagePopupZoom","newEditPopup","obj","renderLoading","updateUserData","updatedInfo","setUserInfo","catch","handleError","newAddPopup","cardObj","sendNewCard","cardRenderer","newAvatarPopup","updateAvatar","newDeletePopup","cardElement","deleteCard","getCardId","card","open","removeLike","setLike","updateLikeCount","addItem","generateCard","actualUserInfo","getUserInfo","editPopupValidator","resetAllErrors","addPopupValidator","avatarPopupValidator","setEventListeners","enableValidation","all","getUserData","getInitialCardsList","values","initialCards","renderItems"],"mappings":"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","file":"index.js","sourcesContent":["export class Card {\r\n  constructor ({ cardData, handleCardClick, handleCardDelete, handleCardLike, userId }, templateSelector) {\r\n    this._cardData = cardData;\r\n    this._name = this._cardData.name;\r\n    this._link = this._cardData.link;\r\n    this._likeCount = this._cardData.likes.length;\r\n    this._cardId = this._cardData._id;\r\n    this._handleCardClick = handleCardClick;\r\n    this._handleCardDelete = handleCardDelete;\r\n    this._handleCardLike = handleCardLike;\r\n    this._cardSelector = templateSelector;\r\n    this._userId = userId;\r\n  }\r\n\r\n  _getTemplate() {\r\n    const cardItem = document\r\n      .querySelector(this._cardSelector)\r\n      .content\r\n      .cloneNode(true)\r\n      .children[0];\r\n\r\n      return cardItem;\r\n  }\r\n  \r\n  _toggleLikeButton() {\r\n    if (this.likedByUser(this._userId)) {\r\n      this._likeButton.classList.add('element__like_active');\r\n    } else {\r\n      this._likeButton.classList.remove('element__like_active');\r\n    }\r\n  }\r\n\r\n\r\n  _setCardData() {\r\n    this._cardImage.setAttribute('alt', 'На фото: ' + this._name);\r\n    this._cardImage.setAttribute('src', this._link);\r\n    this._cardElement.querySelector('.element__name').textContent = this._name;\r\n    this.setLikeCount(this._cardData.likes.length);\r\n  }\r\n\r\n  _handleLikeButton() {    \r\n    this._likeButton.classList.toggle('element__like_active');\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._likeButton.addEventListener('click', () => { this._handleCardLike() });\r\n    this._deleteButton.addEventListener('click', () => { this._handleCardDelete() });\r\n    this._cardImage.addEventListener('click', () => { this._handleCardClick(this._cardElement) });\r\n  }\r\n\r\n  generateCard() {\r\n    this._cardElement = this._getTemplate();\r\n    this._likeButton = this._cardElement.querySelector('.element__like');    \r\n    this._cardImage = this._cardElement.querySelector('.element__image');\r\n    this._deleteButton = this._cardElement.querySelector('.element__trash-bin');\r\n    this._setCardData();    \r\n    this._ownerId = this._cardData.owner._id;\r\n    if (this._ownerId !== this._userId) {\r\n      this._deleteButton.remove();\r\n    }\r\n    this._setEventListeners();\r\n\r\n    return this._cardElement;\r\n  }\r\n\r\n  getCardId() {\r\n    return this._cardId;\r\n  }\r\n\r\n  deleteCard() {\r\n    this._cardElement.remove();\r\n    this._cardElement = null;\r\n  }\r\n\r\n  updateLikeCount(updatedLikes) {\r\n    this._cardData.likes = updatedLikes;\r\n    this.setLikeCount(updatedLikes.length);\r\n  }\r\n\r\n  likedByUser() {\r\n    return this._cardData.likes.some(like => {\r\n      return like._id === this._userId;\r\n    })\r\n  }\r\n  \r\n  setLikeCount(likes) {\r\n    this._cardElement.querySelector('.element__number-of-likes').textContent = likes;\r\n    this._toggleLikeButton(this._userId);\r\n  }\r\n}","export class Popup {\r\n  constructor(popupElement) {\r\n    this._popupElement = popupElement;\r\n    this._handleEscClose = this._handleEscClose.bind(this);\r\n    this._closeButton = this._popupElement.querySelector('.popup__close-button');\r\n    this._submitButton = this._popupElement.querySelector('.popup__save-button');\r\n  }\r\n\r\n  _handleEscClose(evt) {\r\n    if (evt.key === 'Escape') {\r\n      this.close();\r\n    }\r\n  }\r\n  \r\n  open() {\r\n    this._popupElement.classList.add('popup_opened');\r\n    document.addEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  close() {\r\n    this._popupElement.classList.remove('popup_opened');\r\n    document.removeEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  setEventListeners() {\r\n    this._closeButton.addEventListener('click', () => { this.close() });\r\n    this._popupElement.addEventListener('click', (evt) => {\r\n      if (evt.target.classList.contains('popup')) {\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n}","import { Popup } from './Popup.js';\r\n\r\nexport class PopupWithForm extends Popup {\r\n  constructor ({ popupElement, submitHandler }) {\r\n    super(popupElement);\r\n    this._submitHandler = submitHandler;\r\n    this._form = this._popupElement.querySelector('.popup__container');\r\n    this._submitButton = this._form.querySelector('.popup__save-button');\r\n    this._inputList = Array.from(this._form.querySelectorAll('.popup__input'));\r\n  }\r\n\r\n  _getInputValues() {\r\n    this._formValues = {};\r\n    this._inputList.forEach(input => {this._formValues[input.name] = input.value;});\r\n    return this._formValues;\r\n  }\r\n\r\n  renderLoading(caption) {\r\n    this._submitButton.textContent = caption;\r\n  }\r\n\r\n  setEventListeners() {\r\n    super.setEventListeners();\r\n\r\n    this._form.addEventListener('submit', evt => {\r\n      evt.preventDefault();\r\n      this._submitHandler(this._getInputValues());\r\n      this.close();\r\n    });\r\n  }\r\n\r\n  close() {\r\n    super.close();\r\n    this._form.reset();\r\n  }\r\n}","import { Popup } from './Popup.js';\r\n\r\nexport class PopupWithImage extends Popup {\r\n  constructor(popupElement) {\r\n    super(popupElement);\r\n    this._popupElement = popupElement;\r\n    this._photo = this._popupElement.querySelector('.popup__picture');\r\n    this._popupPhotoTitle = this._popupElement.querySelector('.popup__picture-name');\r\n  }\r\n\r\n  open(link, title) {\r\n    super.open();    \r\n\r\n    this._photo.setAttribute('src', link);\r\n    this._photo.setAttribute('alt', `На фото: ${title}`);\r\n    this._popupPhotoTitle.textContent = title;\r\n  }\r\n}","export class Section {\r\n  constructor({ items, renderer }, containerSelector) {\r\n    this._renderedItems = items;\r\n    this._renderer = renderer;\r\n    this._container = document.querySelector(containerSelector);\r\n  }\r\n\r\n  addItem(item, isArray) {\r\n    isArray ? this._container.append(item) : this._container.prepend(item);\r\n  }\r\n\r\n  renderItems() {\r\n    this._renderedItems.forEach(item => {\r\n      this._renderer(item);\r\n    });\r\n  }\r\n}","export class UserInfo {\r\n  constructor({ titleElement, subtitleElement, avatarElement }) {\r\n    this._titleElement = titleElement;\r\n    this._subtitleElement = subtitleElement;\r\n    this._avatarElement = avatarElement;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return {\r\n      name: this._titleElement.textContent,\r\n      about: this._subtitleElement.textContent,\r\n      avatar: this._avatarElement.src\r\n    }\r\n  }\r\n\r\n  setUserInfo(userData) {\r\n    this._titleElement.textContent = userData.name;\r\n    this._subtitleElement.textContent = userData.about;\r\n    this._avatarElement.src = userData.avatar;\r\n  }\r\n}","export class FormValidator {\r\n  constructor(conf, form) {\r\n    this._conf = conf;\r\n    this._form = form;\r\n    this._button = this._form.querySelector(this._conf.submitButtonSelector);\r\n  }\r\n\r\n  _isInputInvalid(inputList) {\r\n    return inputList.some((inputElement) => !inputElement.validity.valid);\r\n  }\r\n\r\n  _toggleSubmitButton(inputList, buttonElement, inactiveButtonClass) {\r\n    if (this._isInputInvalid(inputList)) {\r\n      buttonElement.classList.add(inactiveButtonClass);\r\n      buttonElement.setAttribute('disabled', true);\r\n    } else {\r\n      buttonElement.classList.remove(inactiveButtonClass);\r\n      buttonElement.removeAttribute('disabled');\r\n    }\r\n  };\r\n\r\n  _setErrorMessage(errorMessageElement, errorMessageText, errorClass) {\r\n    errorMessageElement.textContent = errorMessageText;\r\n    errorMessageElement.classList.add(errorClass);\r\n  };\r\n\r\n  _hideErrorMessage(errorMessageElement, errorClass) {\r\n    errorMessageElement.textContent = '';\r\n    errorMessageElement.classList.remove(errorClass);\r\n  };\r\n\r\n  _checkInputValidity(form, inputElement, errorClass) {\r\n    const inputIsInvalid = !inputElement.validity.valid;\r\n    const errorMessageElement = form.querySelector(`#${inputElement.id}-error`);\r\n\r\n    if (inputIsInvalid) {\r\n      const errorMessageText = inputElement.validationMessage;\r\n      this._setErrorMessage(errorMessageElement, errorMessageText, errorClass);\r\n    } else {\r\n      this._hideErrorMessage(errorMessageElement, errorClass);\r\n    };\r\n  };\r\n\r\n  _setEventListeners(conf, form) {\r\n    const inputList = Array.from(form.querySelectorAll(conf.inputSelector));\r\n\r\n    inputList.forEach(inputElement => {\r\n      inputElement.addEventListener('input', () => {\r\n        this._checkInputValidity(form, inputElement, conf.errorClass, conf.inputErrorClass);\r\n        this._toggleSubmitButton(inputList, this._button, conf.inactiveButtonClass);\r\n      });\r\n    });\r\n    this._toggleSubmitButton(inputList, this._button, conf.inactiveButtonClass);\r\n  };\r\n\r\n  resetAllErrors() {\r\n    const errorInputList = Array.from(this._form.querySelectorAll('.popup__input-error_active'));\r\n    const errorMessageList = Array.from(this._form.querySelectorAll('.popup__form-error_active'));\r\n\r\n    if (errorInputList.length > 0) {\r\n      errorInputList.forEach(errorInputItem => {\r\n        errorInputItem.classList.remove(this._conf.errorClass)\r\n      });\r\n    };\r\n\r\n    if (errorMessageList.length > 0) {\r\n      errorMessageList.forEach(errorMessageItem => {\r\n        errorMessageItem.classList.remove(this._conf.errorClass)\r\n      });\r\n    };\r\n\r\n    this._button.classList.add(this._conf.inactiveButtonClass);\r\n    this._button.setAttribute('disabled', true);\r\n  }\r\n\r\n  enableValidation() {\r\n    this._setEventListeners(this._conf, this._form);\r\n  };\r\n}","export class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._baseUrl}/users/me`, { headers: this._headers })\r\n      .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  getInitialCardsList() {\r\n    return fetch(`${this._baseUrl}/cards`, { headers: this._headers })\r\n      .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  updateUserData(title, subtitle) {\r\n    return fetch(`${this._baseUrl}/users/me`, { \r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: title,\r\n        about: subtitle\r\n      })\r\n    })\r\n      .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  sendNewCard(link, name) {\r\n    return fetch(`${this._baseUrl}/cards`, { \r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    })\r\n      .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n  }\r\n\r\n  setLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  updateAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, { \r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    })\r\n      .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  handleError(err) {\r\n    console.error(err);\r\n  }\r\n}","import { Popup } from './Popup.js';\r\n\r\nexport class PopupConfirm extends Popup {\r\n  constructor({ popupElement, submitHandler }) {\r\n    super(popupElement);\r\n    this._submitHandler = submitHandler;\r\n    this._submitButton = this._popupElement.querySelector('.popup__save-button');\r\n  }\r\n\r\n  setEventListeners() {\r\n    super.setEventListeners();\r\n    \r\n    this._form = this._popupElement.querySelector('.popup__container');\r\n    this._form.addEventListener('submit', evt => {      \r\n      this._submitHandler(evt, this._element);\r\n    });\r\n  }\r\n\r\n  open(element) {\r\n    this._element = element;\r\n    super.open();\r\n  }\r\n\r\n  renderLoading(caption) {\r\n    this._submitButton.textContent = caption;\r\n  }\r\n}","const conf = {\r\n  formSelector: '.popup__container',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__save-button',\r\n  inactiveButtonClass: 'popup__save-button_inactive',\r\n  errorClass: 'popup__input-error_active',\r\n  inputErrorClass: 'popup__input_state_error'\r\n};\r\nconst editButtonProfile = document.querySelector('.profile__edit-button');\r\nconst editPopupProfile = document.querySelector('.popup_profile');\r\nconst editFormProfile = editPopupProfile.querySelector('form[name=\"edit-profile\"]');\r\nconst titleInput = editPopupProfile.querySelector('input[name=\"title\"]');\r\nconst subtitleInput = editPopupProfile.querySelector('input[name=\"subtitle\"]');\r\nconst addButtonCard = document.querySelector('.profile__add-button');\r\nconst addPopupCard = document.querySelector('.popup_new-place');\r\nconst addFormCard = addPopupCard.querySelector('form[name=\"add-place\"]');\r\nconst viewerPopup = document.querySelector('.popup_image');\r\nconst popupPhoto = viewerPopup.querySelector('.popup__picture');\r\nconst updateAvatarButton = document.querySelector('.profile__avatar-button');\r\nconst avatarPopup = document.querySelector('.popup_avatar');\r\nconst avatarForm = document.querySelector('form[name=\"update-avatar\"]');\r\nconst deletePopup = document.querySelector('.popup_del-card');\r\nconst actualProfileTitle = document.querySelector('.profile__name');\r\nconst actualProfileSubtitle = document.querySelector('.profile__profession');\r\nconst actualAvatar = document.querySelector('.profile__avatar');\r\nconst actualUserId = '00be17c9136dba8124e035ee';\r\nconst waitPic = 'Сохранение...';\r\nconst submitPic = 'Сохранить';\r\nconst yesPic = 'Да';\r\nconst deletPic = 'Удаление...';\r\n\r\nexport {\r\n  conf,\r\n  editButtonProfile,\r\n  editPopupProfile,\r\n  editFormProfile,\r\n  titleInput,\r\n  subtitleInput,\r\n  addButtonCard,\r\n  addPopupCard,\r\n  addFormCard,\r\n  viewerPopup,\r\n  popupPhoto,\r\n  actualProfileTitle,\r\n  actualProfileSubtitle,\r\n  actualAvatar,\r\n  deletePopup,\r\n  actualUserId,\r\n  avatarPopup,\r\n  updateAvatarButton,\r\n  avatarForm,\r\n  waitPic,\r\n  submitPic,\r\n  yesPic,\r\n  deletPic\r\n}","import './index.css';\r\nimport { Card } from '../scripts/Card.js';\r\nimport { PopupWithForm } from '../scripts/PopupWithForm.js';\r\nimport { PopupWithImage } from '../scripts/PopupWithImage.js';\r\nimport { Section } from '../scripts/Section.js';\r\nimport { UserInfo } from '../scripts/UserInfo.js';\r\nimport { FormValidator } from '../scripts/FormValidator.js';\r\nimport { Api } from '../scripts/Api.js';\r\nimport { PopupConfirm } from '../scripts/PopupConfirm.js';\r\nimport {\r\n  conf,\r\n  editButtonProfile,\r\n  editPopupProfile,\r\n  editFormProfile,\r\n  titleInput,\r\n  subtitleInput,\r\n  addButtonCard,\r\n  addPopupCard,\r\n  addFormCard,\r\n  viewerPopup,\r\n  actualProfileTitle,\r\n  actualProfileSubtitle,\r\n  actualAvatar,\r\n  deletePopup,\r\n  actualUserId,\r\n  avatarPopup,\r\n  updateAvatarButton,\r\n  avatarForm,\r\n  waitPic,\r\n  submitPic,\r\n  yesPic,\r\n  deletPic\r\n} from '../scripts/utils.js';\r\n\r\nlet section = {};\r\nlet renderTurn = true;\r\n\r\n// Api\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers: {\r\n    authorization: '534a01fb-4115-4a8d-993b-e26c3c7e9d82',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nconst userInfoData = new UserInfo({\r\n  titleElement: actualProfileTitle,\r\n  subtitleElement: actualProfileSubtitle,\r\n  avatarElement: actualAvatar\r\n});\r\n\r\nconst imagePopupZoom = new PopupWithImage(viewerPopup);\r\n\r\nconst handleProfileEditSubmit = (obj) => {\r\n  newEditPopup.renderLoading(waitPic);\r\n  api.updateUserData(obj.title, obj.subtitle)\r\n    .then(updatedInfo => {\r\n      userInfoData.setUserInfo(updatedInfo);\r\n      newEditPopup.close();\r\n    })\r\n    .catch(err => api.handleError(err));\r\n}\r\n\r\nconst newEditPopup = new PopupWithForm({\r\n  popupElement: editPopupProfile,\r\n  submitHandler: handleProfileEditSubmit\r\n});\r\n\r\nconst toggleEditPopup = () => {\r\n  const actualUserInfo = userInfoData.getUserInfo();\r\n  titleInput.value = actualUserInfo.name;\r\n  subtitleInput.value = actualUserInfo.about;\r\n  newEditPopup.renderLoading(submitPic);\r\n  editPopupValidator.resetAllErrors();\r\n  newEditPopup.open();\r\n}\r\n\r\nconst handleCardAddSubmit = (cardObj) => {\r\n\r\n  newAddPopup.renderLoading(waitPic);\r\n\r\n  api.sendNewCard(cardObj.link, cardObj.name)\r\n    .then(item => {\r\n      cardRenderer(item);\r\n      newAddPopup.close();\r\n    })\r\n    .catch(err => api.handleError(err));\r\n}\r\n\r\n\r\nconst newAddPopup = new PopupWithForm({\r\n  popupElement: addPopupCard,\r\n  submitHandler: handleCardAddSubmit\r\n});\r\n\r\n\r\nconst toggleAddPopup = () => {\r\n  addFormCard.reset();\r\n  newAddPopup.renderLoading(submitPic);\r\n  addPopupValidator.resetAllErrors();\r\n  newAddPopup.open();\r\n}\r\n\r\n\r\nconst handleDeleteConfirmation = (evt, cardElement) => {\r\n  evt.preventDefault();\r\n  newDeletePopup.renderLoading(deletPic);\r\n  api.deleteCard(cardElement.getCardId())\r\n    .then(() => {\r\n      cardElement.deleteCard();\r\n      newDeletePopup.close();\r\n    })\r\n    .catch(err => api.handleError(err))\r\n}\r\n\r\nconst handleAvatarUpdate = (obj) => {\r\n  newAvatarPopup.renderLoading(waitPic);\r\n  api.updateAvatar(obj.avatar)\r\n    .then(userData => {\r\n      actualAvatar.src = userData.avatar;\r\n      newAvatarPopup.close();\r\n    })\r\n    .catch(err => api.handleError(err))\r\n}\r\n\r\nconst newAvatarPopup = new PopupWithForm({\r\n  popupElement: avatarPopup,\r\n  submitHandler: handleAvatarUpdate\r\n});\r\n\r\n\r\nconst toggleEditAvatarPopup = () => {\r\n  avatarForm.reset();\r\n  newAvatarPopup.renderLoading(submitPic);\r\n  avatarPopupValidator.resetAllErrors();  \r\n  newAvatarPopup.open();\r\n}\r\n\r\nconst newDeletePopup = new PopupConfirm({\r\n  popupElement: deletePopup,\r\n  submitHandler: handleDeleteConfirmation\r\n});\r\n\r\nfunction cardRenderer(item) {\r\n  {\r\n    const card = new Card({\r\n      cardData: item,\r\n      handleCardClick: () => {\r\n        imagePopupZoom.open(item.link, item.name);\r\n      },\r\n      handleCardDelete: () => {\r\n        newDeletePopup.renderLoading(yesPic)\r\n        newDeletePopup.open(card);\r\n      },\r\n      handleCardLike: () => {\r\n        const cardId = item._id;\r\n        const toggleLike = card.likedByUser() ? api.removeLike(cardId) : api.setLike(cardId);\r\n\r\n        toggleLike.then(item => {\r\n          card.updateLikeCount(item.likes);\r\n        })\r\n        .catch(err => api.handleError(err))\r\n      },\r\n      userId: actualUserId\r\n    },\r\n    '.card');\r\n\r\n    section.addItem(card.generateCard(), renderTurn);\r\n  }\r\n}\r\n\r\n// listeners\r\n\r\neditButtonProfile.addEventListener('click', toggleEditPopup);\r\naddButtonCard.addEventListener('click', toggleAddPopup);\r\nupdateAvatarButton.addEventListener('click', toggleEditAvatarPopup);\r\n\r\n// modal window\r\nnewEditPopup.setEventListeners();\r\nnewAddPopup.setEventListeners();\r\nimagePopupZoom.setEventListeners();\r\nnewDeletePopup.setEventListeners();\r\nnewAvatarPopup.setEventListeners();\r\n\r\n// Validation\r\n\r\nconst editPopupValidator = new FormValidator(conf, editFormProfile);\r\neditPopupValidator.enableValidation();\r\n\r\nconst addPopupValidator = new FormValidator(conf, addFormCard);\r\naddPopupValidator.enableValidation();\r\n\r\nconst avatarPopupValidator = new FormValidator(conf, avatarForm);\r\navatarPopupValidator.enableValidation();\r\n\r\nPromise.all([\r\n  api.getUserData(),\r\n  api.getInitialCardsList()\r\n])    \r\n.then(values => {\r\n  const [userData, initialCards] = values;\r\n  userInfoData.setUserInfo(userData);\r\n\r\n  section = new Section(\r\n    {\r\n      items: initialCards,\r\n      renderer: cardRenderer\r\n    },\r\n    '.elements');\r\n    section.renderItems();\r\n    renderTurn = false;\r\n})\r\n.catch(err => {\r\n  api.handleError(err);\r\n})"],"sourceRoot":""}